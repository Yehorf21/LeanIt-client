import{r as x,u as I,a as L,b as $,c as D,j as s,L as c,d as j,e as N,$ as U,s as T,f as M,g as R}from"./index-DOR72b7R.js";const y={email:"",password:"",repeatPassword:""},B=({type:t})=>{const[a,m]=x.useState(null),[v,d]=x.useState(!1),[u,h]=x.useState(y),E=I(),{addNotification:n}=L(),g=$(),o=D({maxWidth:639}),{email:f,password:l,repeatPassword:i}=u,w=t==="signup"?"Sign Up":"Login",b=t==="login"?"#FDF00E":"#C8ACFD",C=e=>{E(R.setUser(e))},S=()=>{g(-1)},p=(e,r)=>{h(F=>({...F,[r]:e.target.value}))},k=async()=>{const e=t==="signup"?"registration":"login";d(!0);try{const r=await T(e,u);if(e==="registration"){n("You signed up!","Success"),g("/login");return}e==="login"&&(C(r.data),M("user",r.data.token,36e5)),window.open("/","_self"),h(y)}catch(r){n(r.response.data.message,"Error")}finally{d(!1)}},P=()=>{if(!f.trim()||!l.trim())return n("Enter valid data in all fields","Error"),!1;if(t==="signup"){if(!i)return n("Enter valid data in all fields","Error"),!1;if(l.trim().length<8)return n("Password is too short","Error"),!1;if(l!==i)return n("Passwords must match","Error"),!1}return!0},A=e=>{e.preventDefault(),P()&&k()};return s.jsxs("section",{className:"sm:my-16 lg:my-14 flex justify-center lg:justify-between padding",style:{backgroundColor:o?b:"#EEE6FE"},children:[s.jsx("img",{src:`images/${t}.png`,alt:`${t} image`,className:"relative top-[45px] hidden lg:block object-contain h-[90vh] w-[50vw] max-h-[850px] max-w-[630px]"}),s.jsxs("article",{className:"min-w-[90vw] sm:min-w-[unset] w-[75vw] lg:w-[50vw] max-w-[608px] h-max sm:px-8 sm:rounded-[24px]",style:{backgroundColor:b},children:[s.jsxs("div",{className:"flex pt-[17px] pb-[17px] sm:pt-6 sm:pb-6 justify-between items-center",children:[!o&&s.jsx("button",{className:"arrow-left h-6 w-6 bg-contain bg-no-repeat",onClick:S}),s.jsx(c,{path:"/",children:s.jsx("div",{className:"logo h-[30px] sm:h-12 w-[100px] sm:w-40 bg-no-repeat bg-contain"})}),o&&s.jsx(c,{path:"/",className:"close h-6 sm:h-8 w-6 sm:w-8 bg-no-repeat bg-contain"})]}),s.jsxs("form",{action:"#",className:"pt-5 pb-4 sm:pb-8 sm:pt-0 flex flex-col gap-6 sm:gap-10",onSubmit:A,children:[s.jsx("h3",{className:"font-secondary text-32 sm:text-38 font-bold text-primary text-center uppercase",children:w}),s.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[s.jsx("div",{className:"mb-2 sm:mb-[14px] flex flex-col gap-2",children:s.jsxs("p",{className:"font-main text-14 sm:text-16 text-text-primary",children:["Hey there!",s.jsx("br",{}),s.jsx("br",{}),t==="login"?j.login:j.signup]})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h5",{className:"ml-6 sm:ml-[30px] font-main text-20 sm:text-28 font-semibold text-text-primary",children:"Email"}),s.jsx("input",{type:"email",className:"pt-[15px] pb-[15px] px-6 sm:px-[30px] rounded-[80px] font-main text-20 sm:text-24 text-text-secondary",placeholder:"Enter your email",value:f,onChange:e=>p(e,"email")})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h5",{className:"ml-6 sm:ml-[30px] font-main text-20 sm:text-28 font-semibold text-text-primary",children:"Password"}),s.jsxs("label",{className:"relative",children:[s.jsx("input",{type:a===1?"text":"password",id:"password",className:"pt-[15px] pb-[15px] px-6 sm:px-[30px] w-[100%] rounded-[80px] font-main text-20 sm:text-24 text-text-secondary",placeholder:"Enter your password",value:l,onChange:e=>p(e,"password")}),s.jsx("button",{className:N("absolute top-[17px] sm:top-6 right-6 sm:right-[30px] password h-6 w-6 bg-contain bg-center",{"password-close":a===1}),onClick:()=>m(a===1?null:1),type:"button"})]})]}),t==="signup"&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h5",{className:"ml-6 sm:ml-[30px] font-main text-20 sm:text-28 font-semibold text-text-primary",children:"Confirm password"}),s.jsxs("label",{className:"relative",children:[s.jsx("input",{type:a===2?"text":"password",id:"chech-password",className:"pt-[15px] pb-[15px] px-6 sm:px-[30px] w-[100%] rounded-[80px] font-main text-20 sm:text-24 text-text-secondary",placeholder:"Repeat your password",value:i,onChange:e=>p(e,"repeatPassword")}),s.jsx("button",{className:N("absolute top-[17px] sm:top-6 right-6 sm:right-[30px] password h-6 w-6 bg-contain bg-center",{"password-close":a===2}),onClick:()=>m(a===2?null:2),type:"button"})]})]}),s.jsx("button",{className:"mt-4 sm:mt-6 h-14 sm:h-16 flex justify-center items-center bg-primary rounded-[100px] font-main text-white text-16 sm:text-20 font-semibold uppercase",children:v?s.jsx(U,{height:"30",width:"30",color:"#fff",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0}):w}),s.jsx("div",{className:"flex gap-1 self-center",children:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-main text-16 sm:text-24 text-text-secondary",children:t==="signup"?"Already have a profile?":"No profile?"}),s.jsx(c,{path:t==="login"?"/signup":"/login",className:"font-main text-16 sm:text-24 text-[#237AE0]",children:t==="signup"?"Log in":"Sign Up"})]})})]})]})]})]})};export{B as AuthPage,B as default};
