import{r as t,l as f,u as P,a as E,b as v,j as e,i as p,m as x}from"./index-CREGoHIF.js";import{C as F}from"./Card-DL0y2Qwv.js";const S=({title:a})=>{const[c,m]=t.useState(0),[u,h]=t.useState(0),{cards:r}=f(s=>s.cards),{liked:n}=f(s=>s.user),d=P(),{addNotification:i}=E(),b=v(),j={isGrid:!0,bgColor:"#FFFFFF",hasButton:!1},C=s=>{d(x.setCards(s))},N=s=>{d(x.addCards(s))},k=()=>m(c+1),w=()=>{b(-1)},l=async(s,o)=>{p(a,o).then(y=>s(y.data.content)).catch(()=>i("Cards did not load","Error"))};t.useEffect(()=>{if(a!=="Liked"){l(C,0);return}},[a]),t.useEffect(()=>{c!==0&&a!=="Liked"&&l(N,c)},[c]),t.useEffect(()=>{a!=="Liked"&&(async()=>{try{const o=(await p(a)).data.totalPages;h(o)}catch{i("Could not fetch max pages","Error")}})()},[a]);const g=t.useMemo(()=>a!=="Liked"?r:n,[r,n]);return console.log(g),e.jsxs("section",{className:"padding pt-[100px] pb-[100px] lg:pt-[200px] flex flex-col gap-8 lg:gap-12",children:[e.jsxs("div",{className:"flex flex-col justify-center lg:justify-normal lg:items-center lg:flex-row gap-2 lg:gap-4",children:[e.jsx("button",{className:"arrow-left bg-no-repeat bg-contain h-4 sm:h-8 w-4 sm:w-8",onClick:w}),e.jsx("h3",{className:"font-secondary text-primary text-32 lg:text-64 font-bold uppercase",children:a})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 lg:grid-cols-12 gap-6 justify-items-center",children:g.map((s,o)=>e.jsx(F,{card:s,settings:j},o))}),c!==u-1&&a!=="Liked"&&e.jsxs("button",{className:"flex items-center justify-center gap-4 w-[100%] h-14 lg:h-16 sm:max-w-[292px] bg-additional rounded-[100px]",onClick:k,children:[e.jsx("p",{className:"font-main text-16 lg:text-20 text-primary font-semibold uppercase",children:"Show more"}),e.jsx("div",{className:"chevron-dark bg-no-repeat bg-contain h-4 w-4"})]})]})};export{S as CardsGrid,S as default};
