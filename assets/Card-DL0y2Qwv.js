import{l as V,u as D,b as P,z as W,a as q,r as w,y as B,o as F,j as s,e as d,A as G,q as H,t as J,m as M,g as k}from"./index-CREGoHIF.js";const U=({card:r,settings:j})=>{const{user:b}=V(e=>e.user),i=D(),N=P(),{pathname:n}=W(),{addNotification:c}=q(),[p,y]=w.useState(!1),{isGrid:h,bgColor:L,hasButton:C}=j,{getResponsiveValue:l}=B(),{title:x,imageUrl:I,description:E,href:S,type:t,id:a}=r,m=t.toLowerCase(),A="/"+m+"/"+F(x),u=JSON.parse(localStorage.getItem("liked")),z=h?l("335","450","608"):l("280","300","387"),o=w.useMemo(()=>u.find(e=>e.id===a&&e.type===t),[u,a,t]),g=e=>{i(k.addLiked(e))},f=e=>{i(k.removeLiked(e))},R=async()=>{const e={articleId:a,type:t};if(!b.name){c("You need to log in first","Error");return}if(!o){g({id:a,type:t}),H(e).catch(()=>{c("There was an error","Error"),f(a)});return}f(a),J(o==null?void 0:o.favoriteId).catch(()=>{c("Favorite did not get removed","Error"),g(e)})},v=e=>{m!=="resources"||n==="/"?t==="resources"?window.open(S,"_blank"):N(A):i(M.addPickedCard(e)),window.scrollTo(0,0)},T=()=>!(n==="/resources"||n.includes("-")||n==="/");return console.log(o),s.jsxs("article",{className:"self-center flex flex-col gap-6 p-4 col-span-2 sm:col-span-3 lg:col-span-6 h-fit rounded-[24px]",style:{maxWidth:+z,backgroundColor:L,width:h?"100%":l("65vw","35vw","25vw")},children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{className:d("h-[150px] sm:h-[200px] w-[100%]",{"h-[200px] sm:h-[250px] lg:h-[300px]":T()}),onClick:()=>v(r),children:s.jsx("div",{className:d("h-[100%] w-[100%]",{"skeleton-card-image":!p}),children:s.jsx("img",{className:"h-[100%] w-[100%] object-cover rounded-[16px]",style:{opacity:p?1:0},src:I,alt:"card-image",loading:"lazy",onLoad:()=>y(!0)})})}),s.jsx("button",{className:"absolute flex justify-center items-center h-10 w-10 top-6 right-6 bg-white rounded-full",onClick:R,children:s.jsx("div",{className:d("like h-6 w-6 bg-no-repeat bg-contain z-20",{"like-added":o})})})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h5",{className:"font-main text-20 xl:text-28 h-[60px] lg:h-20 text-primary font-bold overflow-hidden",children:x}),s.jsx("p",{className:"font-main text-14 xl:text-16 text-text-secondary",children:G(E,105)})]}),C&&s.jsxs("button",{className:"flex items-center justify-center gap-2 w-1/2 h-12 bg-additional rounded-[80px]",onClick:()=>v(r),children:[s.jsx("p",{className:"font-main text-16 lg:text-20 text-primary font-semibold uppercase",children:"View"}),s.jsx("div",{className:"chevron-dark bg-no-repeat bg-contain h-2 sm:h-3 w-2 sm:w-3"})]})]})};export{U as C};
