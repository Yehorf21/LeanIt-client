import{l as R,u as T,b as V,z as D,a as P,r as f,y as W,o as q,j as s,e as p,A as B,q as F,t as G,m as H,g as k}from"./index-DOR72b7R.js";const U=({card:i,settings:v})=>{const{user:w}=R(e=>e.user),c=T(),N=V(),{pathname:n}=D(),{addNotification:l}=P(),[m,j]=f.useState(!1),{isGrid:h,bgColor:b,hasButton:y}=v,{getResponsiveValue:d}=W(),{title:x,imageUrl:L,description:C,href:S,type:t,id:o}=i,u=t.toLowerCase(),I="/"+u+"/"+q(x),r=JSON.parse(localStorage.getItem("liked")),E=h?d("335","450","608"):d("280","300","387"),a=f.useMemo(()=>r.find(e=>e.id===o&&e.type===t),[r,o,t]),A=e=>{c(k.addLiked(e))},z=e=>{c(k.removeLiked(e))},J=async()=>{const e={articleId:o,type:t};if(!w.name){l("You need to log in first","Error");return}if(!a){localStorage.setItem("liked",JSON.stringify([...r,{id:o,type:t}])),F(e).catch(()=>{l("There was an error","Error"),localStorage.setItem("liked",JSON.stringify(r))});return}z(o),G(a==null?void 0:a.favoriteId).catch(()=>{l("Favorite did not get removed","Error"),A(e)})},g=e=>{u!=="resources"||n==="/"?t==="resources"?window.open(S,"_blank"):N(I):c(H.addPickedCard(e)),window.scrollTo(0,0)},O=()=>!(n==="/resources"||n.includes("-")||n==="/");return console.log(a),s.jsxs("article",{className:"self-center flex flex-col gap-6 p-4 col-span-2 sm:col-span-3 lg:col-span-6 h-fit rounded-[24px]",style:{maxWidth:+E,backgroundColor:b,width:h?"100%":d("65vw","35vw","25vw")},children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{className:p("h-[150px] sm:h-[200px] w-[100%]",{"h-[200px] sm:h-[250px] lg:h-[300px]":O()}),onClick:()=>g(i),children:s.jsx("div",{className:p("h-[100%] w-[100%]",{"skeleton-card-image":!m}),children:s.jsx("img",{className:"h-[100%] w-[100%] object-cover rounded-[16px]",style:{opacity:m?1:0},src:L,alt:"card-image",loading:"lazy",onLoad:()=>j(!0)})})}),s.jsx("button",{className:"absolute flex justify-center items-center h-10 w-10 top-6 right-6 bg-white rounded-full",onClick:J,children:s.jsx("div",{className:p("like h-6 w-6 bg-no-repeat bg-contain z-20",{"like-added":a})})})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h5",{className:"font-main text-20 xl:text-28 h-[60px] lg:h-20 text-primary font-bold overflow-hidden",children:x}),s.jsx("p",{className:"font-main text-14 xl:text-16 text-text-secondary",children:B(C,105)})]}),y&&s.jsxs("button",{className:"flex items-center justify-center gap-2 w-1/2 h-12 bg-additional rounded-[80px]",onClick:()=>g(i),children:[s.jsx("p",{className:"font-main text-16 lg:text-20 text-primary font-semibold uppercase",children:"View"}),s.jsx("div",{className:"chevron-dark bg-no-repeat bg-contain h-2 sm:h-3 w-2 sm:w-3"})]})]})};export{U as C};
