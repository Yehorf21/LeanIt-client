import{l as F,u as k,y as V,a as A,c as B,r as z,j as u,e as I,i as D,m as _}from"./index-BCKjXBWs.js";import{n as w,h as C,S as G,f as R}from"./pagination-NxYjkcYZ.js";import{C as H}from"./Card-D09MqPk7.js";function W(p){let{swiper:e,extendParams:v,emit:f,once:x}=p;v({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function T(){if(e.params.cssMode)return;const n=e.getTranslate();e.setTranslate(n),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function y(){if(e.params.cssMode)return;const{touchEventsData:n,touches:m}=e;n.velocities.length===0&&n.velocities.push({position:m[e.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:m[e.isHorizontal()?"currentX":"currentY"],time:w()})}function g(n){let{currentPos:m}=n;if(e.params.cssMode)return;const{params:t,wrapperEl:o,rtlTranslate:d,snapGrid:a,touchEventsData:l}=e,j=w()-l.touchStartTime;if(m<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(m>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(l.velocities.length>1){const i=l.velocities.pop(),r=l.velocities.pop(),N=i.position-r.position,b=i.time-r.time;e.velocity=N/b,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(b>150||w()-i.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,l.velocities.length=0;let c=1e3*t.freeMode.momentumRatio;const P=e.velocity*c;let s=e.translate+P;d&&(s=-s);let E=!1,h;const M=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let S;if(s<e.maxTranslate())t.freeMode.momentumBounce?(s+e.maxTranslate()<-M&&(s=e.maxTranslate()-M),h=e.maxTranslate(),E=!0,l.allowMomentumBounce=!0):s=e.maxTranslate(),t.loop&&t.centeredSlides&&(S=!0);else if(s>e.minTranslate())t.freeMode.momentumBounce?(s-e.minTranslate()>M&&(s=e.minTranslate()+M),h=e.minTranslate(),E=!0,l.allowMomentumBounce=!0):s=e.minTranslate(),t.loop&&t.centeredSlides&&(S=!0);else if(t.freeMode.sticky){let i;for(let r=0;r<a.length;r+=1)if(a[r]>-s){i=r;break}Math.abs(a[i]-s)<Math.abs(a[i-1]-s)||e.swipeDirection==="next"?s=a[i]:s=a[i-1],s=-s}if(S&&x("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(d?c=Math.abs((-s-e.translate)/e.velocity):c=Math.abs((s-e.translate)/e.velocity),t.freeMode.sticky){const i=Math.abs((d?-s:s)-e.translate),r=e.slidesSizesGrid[e.activeIndex];i<r?c=t.speed:i<2*r?c=t.speed*1.5:c=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&E?(e.updateProgress(h),e.setTransition(c),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating=!0,C(o,()=>{!e||e.destroyed||!l.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(h),C(o,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(s),e.setTransition(c),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,C(o,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(s),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||j>=t.longSwipesMs)&&(f("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:T,onTouchMove:y,onTouchEnd:g}})}const Q=({type:p,isNoMargin:e})=>{const{cards:v}=F(o=>o.cards),f=k(),{getResponsiveValue:x}=V(),{addNotification:T}=A(),y=B({minWidth:1024}),g=B({maxWidth:639}),n={bgColor:"#FFFFFF",hasButton:!0},m=o=>{f(_.setCards(o))},t=async(o,d)=>{try{const a=(await D(p,o,d)).data.content;m(a)}catch{T('Could not fetch cards for "Explore More"',"Error")}};return z.useEffect(()=>{(async()=>{const d=(await D(p)).data.totalElements;await t(0),p==="resources"&&t(0,d)})()},[]),u.jsxs("div",{className:I("flex flex-col gap-6 lg:gap-10",{"mt-20 lg:mt-[120px]":!e}),children:[u.jsx("h4",{className:"font-secondary text-28 lg:text-38 font-semibold text-primary",children:"Explore more"}),u.jsxs(G,{slidesPerView:+x("1.5","2","3"),spaceBetween:y?40:24,grabCursor:!0,freeMode:!0,modules:[W],className:"mySwiper scroller",children:[v.map(o=>u.jsx(R,{className:"scroller",children:u.jsx(H,{card:o,settings:n})},o.id)),g&&u.jsx(R,{children:u.jsx("div",{className:"w-[300px]"})})]})]})};export{Q as E};
